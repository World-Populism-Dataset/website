<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>World Populism Dataset - Canada</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: yes;
      }
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">World Populism Dataset</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://shiny.nectric.com.au/wpd-app/" rel="" target="">
 <span class="menu-text">App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes.html" rel="" target="">
 <span class="menu-text">Case notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-downloads" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-download" role="img">
</i> 
 <span class="menu-text">Downloads</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-downloads">    
        <li>
    <a class="dropdown-item" href="../#" rel="" target="">
 <span class="dropdown-text">All data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../license.html" rel="" target=""><i class="bi bi-file-certificate" role="img">
</i> 
 <span class="menu-text">License</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/World-Populism-Dataset/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Canada</h1>
            <p class="subtitle lead">Date range: 1980-2020</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-notes" id="toc-case-notes" class="nav-link active" data-scroll-target="#case-notes">Case notes</a>
  <ul class="collapse">
  <li><a href="#reform-party-canadian-reform-conservative-alliance" id="toc-reform-party-canadian-reform-conservative-alliance" class="nav-link" data-scroll-target="#reform-party-canadian-reform-conservative-alliance">Reform Party/ Canadian Reform Conservative Alliance</a></li>
  <li><a href="#bloc-quebecois" id="toc-bloc-quebecois" class="nav-link" data-scroll-target="#bloc-quebecois">Bloc Quebecois</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="case-notes" class="level1">
<h1>Case notes</h1>
<section id="reform-party-canadian-reform-conservative-alliance" class="level2">
<h2 class="anchored" data-anchor-id="reform-party-canadian-reform-conservative-alliance">Reform Party/ Canadian Reform Conservative Alliance</h2>
<p>Preston Manning, son of Alberta’s longest serving premier Earnest Manning, founded the Reform Party in 1987. The party was built on a number of regionalist and populist traditions of previous Western political parties – especially Social Credit, to which Earnest Manning belonged (Budd 2021, 160). The party initially succeeded in mobilising opposition to the Charlottetown Accord constitutional referendum (Laycock 2005, 179), which attempted to give greater rights to minorities, especially Quebec. The referendum was defeated, and disillusioned supporters of the centre-right Progressive Conservative Party (PC) (which supported the constitutional reform) flooded to Reform, which was the only major party in Anglophone Canada to oppose it (Laycock 2005, 179). Reform’s 19% in that election made it one of the largest parties in the Parliament. It maintained its vote share in the 1997 election before merging with the PC to form the Reform-Conservative Alliance in 2000.</p>
<p>Reform campaigned on a narrative that the Canadian state had been infiltrated and co-opted by a collection of “special interests” (Patten 1999, 29), comprising of self-serving bureaucrats, unaccountable “old-line” parties (Barney and Laycock 1999, 323), and representatives of minorities, all of which were opposed to “ordinary Canadians” (Laycock 2019, 171). In doing so, Reform capitalised on widespread distrust of established political parties (Sigurdson 1994, 651) to create a brand that was an “anti-elite” (Budd 2021, 160), “anti-politics” (Barney and Laycock 1999, 332), “anti-partyis[t]” (Laycock 2019, 173) “regional protest party” (Snow and Moffitt 2012, 280). Manning himself emerged as a kind of “anti-politician”, willing to say the things that mainstream politicians wouldn’t touch (Sigurdson 1994, 265). Reform considered the elite of major parties to be the source of the people’s grievances (Mayer, Kaymak, and Justice 2000, 78), by steering state benefits towards the “special interests” at the expense of ordinary people (Budd 2021, 161). Its campaign slogans claimed that “In Ottawa, every special interest group counts except one: Canadians”, and “So you don’t trust politicians? Neither do we.” (Laycock 2019, 171). In Laycock’s words:</p>
<blockquote class="blockquote">
<p>Their populism turned on depicting special interest/elites as actors, organizations and groups who promoted or benefited from state intervention in the market distribution of social and economic goods, all at the people’s expense (Laycock 2019, 172).</p>
</blockquote>
<p>In opposition to this status quo, Manning’s stressed that his party was essentially beyond ideology, and instead embodied the “common sense of the people” (Budd 2021, 160; Kwak 2020, 1176). While there may be a case that Manning’s and Reform’s rhetoric against established politicians was less hostile than other populist parties, on the available evidence we’ve coded it 3 on OTH_POLCLASS.</p>
<p>While the party styled itself as race-blind, its vision of the “people” and their “others” were clearly racialized (Kwak 2020), and the party has been defined as “antipluralistic” (Sigurdson 1994, 267) and opposed to multiculturalism (Erickson 1995, 136). It defined its community as the “broad Anglo-Canadian nation” (Mayer, Kaymak, and Justice 2000, 89), the enemies of which in the “special interests” were representatives of various ethnic out-groups (Sigurdson 1994, 261). In Pattens’ words, this identity was “a reaction to the perceived increase in the prominence and power of francophones, Québécois nationalists, ethnocultural minorities and Aboriginal peoples” (Patten 1999, 30). Manning’s stated that special interests activities created a “tyranny of modern ‘Family Compacts’ of bureaucrats, politicians and special interests that exercise the tyranny of a minority over democratic majorities” (cited in Barney and Laycock 1999, 325). The rise of Quebeqois identity was particularly significant to the party’s vision of the “people” their “others” (Patten 1999, 29; Sigurdson 1994, 265). While this is clearly evidence of ethnocentric rhetoric, a number of sources stress that the party was not as explicitly ethnocentric as other nativist populist parties (Mayer, Kaymak, and Justice 2000, 84; Budd 2021, 163), so we have coded it 2 on OTH_ETHNIC. Relatedly, the party considered immigration in similarly racialized and populist terms, claiming that “Canada’s multiculturalism and immigration policies have been designed in response to the demands of an elite of powerful special interests” (Patten 1999, 35). Its 1988 policy platform stated that immigration “should [not] be explicitly designed to radically or suddenly alter the ethnic makeup of Canada, as it in­creasingly seems to be” (cited in Budd 2021, 163), and it called for a crackdown on “false refugees” alleged to be abusing the system (Kwak 2020, 1177; 2020). As with its ethnocentrism, numerous sources claim that Reform was “not crudely anti-immigrant” (Mayer, Kaymak, and Justice 2000, 84), and that Manning tried to distance himself from its most xenophobic factions (Budd 2021, 163), due to which we have coded it 2 on OTH_IMMIGRANT.</p>
<p>The party is somewhat difficult to code on the OTH_ECONOMIC variable. Some sources emphasise that it maintained the anti-business attitudes of earlier Western populist parties (Mayer, Kaymak, and Justice 2000), campaigning against “plutocratic conspirators of eastern banking interests” (Mayer, Kaymak, and Justice 2000, 80), and a “coalition of government and business elites” (Budd 2019, 140; Gordon 2021, 44). However others claim that banks are not the party’s chief antagonist (Sigurdson 1994, 167) and that it even considered big business allies of “the people” due in part to the fact that major business groups sponsored it and its clearly neo-liberal and anti-welfare ideology (Laycock 2005, 187; Kwak 2020, 1175). Most sources on Reform don’t mention business or financial elites at all. Due to this mixed evidence, we’ve coded it 2 on OTH_ECONOMIC. We’ve seen no evidence of rhetoric on the OTH_FOREIGN or OTH_MILITARY variables (both = 1).</p>
<p>Reform is also somewhat difficult to code on the CHARISMA scale. Manning is considered by some a “dynamic populist leader” (Erl 2021, 113), and personally defined the party’s branding to the electorate (Sigurdson 1994, 276). Yet, Reform also built heavily on prior traditions of Western populism, and Manning has been called a somewhat dull and non-inspiring figure compared to other more conventionally charismatic populist leaders (Moffitt 2016, 62). We have therefore coded Reform 2 on CHARISMA in 1993 and 1997. Ideologically, while the party claimed to transcend the left-tight spectrum, its policies fit rather neatly in the neo-liberal wave of its time, advocating lower taxes, reductions in welfare and deregulation of the private sector (Laycock 2005, 180; Kwak 2020, 1175), and as a result of this and the higher salience of its non-economic cultural conservatism it is universally considered right wing (Sigurdson 1994, 265; Budd 2021, 160) (LRPOSITION = R). We’ve seen no evidence that Reform threated any liberal democratic norms (Knopff 1998, 702) (LIBDEMNORMS = 1.</p>
<p>For the 2000 election, Manning and Reform attempted to merge with the fledgling Progressive Conservative Party to prevent the vote-splitting on the right (which Manning believed kept the Liberal government in power). This saw the party change its name to the Canadian Reform Conservative Alliance (a.k.a. “The Alliance”), which kept most of the reform personnel and structures but encouraged participation by prominent PRP members. While Manning attempted to lead this party, he was defeated by one such PRP member Stockwell Day in an election of party members. This party went on to become the Conservative Party of Canada in 2003 after an official merger between it and the PCP. Thus it is difficult to say whether the Alliance’s 2000 election should be included in the dataset. We have decided to include the party with the same coding decisions as Reform but for CHARISMA (= 1 in 2000), given that Manning was no longer leader. This is backed up by Cross and Young (Cross and Young 2002) survey findings that suggest continuity between the core ideas and meaning of Reform and the Alliance.</p>
</section>
<section id="bloc-quebecois" class="level2">
<h2 class="anchored" data-anchor-id="bloc-quebecois">Bloc Quebecois</h2>
<p>The <em>Bloc Quebecois</em> (BQ) started as a parliamentary caucus of major party MPs sympathetic to Quebecois identity and interest. It became a fully-fledged political party under the leadership of Lucien Bouchard in 1991. As with Reform, BQ enjoyed break-out success in the 1993 on the failure of the Meech Lake accords (Erickson 1995, 135), in which it won 13.5% of the national vote and became the official opposition in Parliament after the collapse of the Progressive Conservative Party (PCP). It steadily lost support in subsequent elections, dropping to 4.7% in 2015, before rising to 7.6% in 2019. BQ is a difficult inclusion in the dataset. Separatist nationalism is not by definition populism, even if all such parties campaign in strong opposition to the existing political centre. We include BQ here because available evidence suggests that its rhetoric conformed to a general people/elite framework in which the (Quebecois) people’s interests were deliberately ignored by that elite.</p>
<p>The OTH_POLCLASS variable is tricky with BQ. While the party clearly showed distain for the mainly Anglophone establishment in Ottawa, it is not clear that this reaches the level of out-right hostility to the political class, and hence the party has been coded 2 on this variable. The only other “other” dimension relevant to the dataset is OTH_ETHNIC. BQ draws on a long history of perceived cultural marginalisation, promoting a separatist cause based on the idea that Anglophone Canada is an “other” to the Francophone “people”, and that various national governments in Ottowa have been estranged from Quebacois interests (Mayer et al, 2000: 80). There is some debate about whether the term “Quebecois” is an ethnic (French Canadian) moniker or geographic demonym (people from the province of Quebec, some of whom are not French Canadian). Some Canadians use the term Quebecker/Quebecer to denote the latter (Mayer, Kaymak, and Justice 2000, 86) and consider the former an explicitly ethnocentric term, something disputed by leaders of QB. We’ve labelled the party 2 on OTH_ETHNIC given that the Francophone-Anglophone political narrative is clearly the essence of its populist character, yet not to the extent that ethnic others are defined as enemies in extreme terms. We’ve seen no evidence for anything above 1 on OTH_IMMIGRANT, OTH_ECONOMIC, OTH_MILITARY, or OTH_FOREIGN.</p>
<p>Positioning the party on a LRPOSITION scale is very difficult, given that it is culturally conservative in its advocacy of sovereignty but includes heterogenous views on economic policies (Cross and Young 2002, 862; Mayer, Kaymak, and Justice 2000, 87). Due to the salience of cultural identity in the party narrative, we’ve labelled it CR, but this could be revisited. We’ve seen no evidence that the BQ’s leaders define its appeal (CHARISMA = 1), or that it threatened liberal democratic norms (LIBDEMNORMS = 1). As Lucien Bouchard was a former cabinet minister, we’ve coded 2 on INSIDER.</p>
<p><strong>References</strong></p>
<p>Barney, Darin David, and David Laycock. 1999. “Right-Populists and Plebiscitary Politics in Canada.” <em>Party Politics</em> 5 (3): 317–39. https://doi.org/10.1177/1354068899005003004.</p>
<p>Budd, Brian. 2019. “The Populist Radical Right Goes Canadian: An Analysis of Kellie Leitch’s Failed 2016–2017 Conservative Party of Canada Leadership Campaign.” In <em>Populism and World Politics: Exploring Inter- and Transnational Dimensions</em>, edited by Frank A. Stengel, David B. MacDonald, and Dirk Nabers, 137–63. Global Political Sociology. Cham: Springer International Publishing. https://doi.org/10.1007/978-3-030-04621-7_6.</p>
<p>———. 2021. “Maple-Glazed Populism: Political Opportunity Structures and Right-Wing Populist Ideology in&nbsp;Canada.” <em>Journal of Canadian Studies</em> 55 (1): 152–76. https://doi.org/10.3138/jcs.2019-0046.</p>
<p>Cross, William, and Lisa Young. 2002. “Policy Attitudes of Party Members in Canada: Evidence of Ideological Politics.” <em>Canadian Journal of Political Science/Revue Canadienne de Science Politique</em> 35 (4): 859–80. https://doi.org/10.1017/S0008423902778475.</p>
<p>Erickson, Lynda. 1995. “The October 1993 Election and the Canadian Party System.” <em>Party Politics</em> 1 (1): 133–43. https://doi.org/10.1177/1354068895001001006.</p>
<p>Erl, Chris. 2021. “The People and The Nation: The ‘Thick’ and the ‘Thin’ of Right-Wing Populism in Canada.” <em>Social Science Quarterly</em> 102 (1): 107–24. https://doi.org/10.1111/ssqu.12889.</p>
<p>Gordon, Kelly. 2021. “Mobilizing Victimhood: Situating the Victim in Canadian Conservatism.” <em>Canadian Journal of Political Science/Revue Canadienne de Science Politique</em> 54 (1): 41–59. https://doi.org/10.1017/S0008423920001031.</p>
<p>Knopff, Rainer. 1998. “Populism and the Politics of Rights: The Dual Attack on Representative Democracy*.” <em>Canadian Journal of Political Science/Revue Canadienne de Science Politique</em> 31 (4): 683–705. https://doi.org/10.1017/S0008423900009604.</p>
<p>Kwak, Laura J. 2020. “Problematizing Canadian Exceptionalism: A Study of Right-Populism, White Nationalism and Conservative Political Parties.” <em>Oñati Socio-Legal Series</em> 10 (6): 1166–92.</p>
<p>Laycock, David. 2005. “Populism and the New Right in English Canada.” In <em>Populism and the Mirror of Democracy</em>, edited by Francisco Panizza, 172–201. London and New York: Verso.</p>
<p>———. 2019. “Tax Revolts, Direct Democracy and Representation: Populist Politics in the US and Canada.” <em>Journal of Political Ideologies</em> 24 (2): 158–81. https://doi.org/10.1080/13569317.2019.1589962.</p>
<p>Mayer, Lawrence C., Erol Kaymak, and Jeff W. Justice. 2000. “Populism and the Triumph of the Politics of Identity: The Transformation of the Canadian Party System.” <em>Nationalism and Ethnic Politics</em> 6 (1): 72–102. https://doi.org/10.1080/13537110008428588.</p>
<p>Moffitt, Benjamin. 2016. <em>The Global Rise of Populism: Performance, Political Style, and Representation</em>. Stanford University Press.</p>
<p>Patten, Steve. 1999. “The Reform Party’s Re-Imagining of the Canadian Nation.” <em>Journal of Canadian Studies</em> 34 (1): 27–51. https://doi.org/10.3138/jcs.34.1.27.</p>
<p>Sigurdson, Richard. 1994. “Preston Manning and the Politics of Postmodernism in Canada*.” <em>Canadian Journal of Political Science/Revue Canadienne de Science Politique</em> 27 (2): 249–76. https://doi.org/10.1017/S0008423900017352.</p>
<p>Snow, Dave, and Benjamin Moffitt. 2012. “Straddling the Divide: Mainstream Populism and Conservatism in Howard’s Australia and Harper’s Canada.” <em>Commonwealth &amp; Comparative Politics</em> 50 (3): 271–92.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>