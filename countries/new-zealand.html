<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>World Populism Dataset - New Zealand</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: yes;
      }
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">World Populism Dataset</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://shiny.nectric.com.au/wpd-app/" rel="" target="">
 <span class="menu-text">App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes.html" rel="" target="">
 <span class="menu-text">Case notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-downloads" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-download" role="img">
</i> 
 <span class="menu-text">Downloads</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-downloads">    
        <li>
    <a class="dropdown-item" href="../#" rel="" target="">
 <span class="dropdown-text">All data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../license.html" rel="" target=""><i class="bi bi-file-certificate" role="img">
</i> 
 <span class="menu-text">License</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/World-Populism-Dataset/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">New Zealand</h1>
            <p class="subtitle lead">Date range: 1980-2020</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-notes" id="toc-case-notes" class="nav-link active" data-scroll-target="#case-notes">Case notes</a>
  <ul class="collapse">
  <li><a href="#social-credit" id="toc-social-credit" class="nav-link" data-scroll-target="#social-credit">Social Credit</a></li>
  <li><a href="#new-zealand-party" id="toc-new-zealand-party" class="nav-link" data-scroll-target="#new-zealand-party">New Zealand Party</a></li>
  <li><a href="#new-zealand-first" id="toc-new-zealand-first" class="nav-link" data-scroll-target="#new-zealand-first">New Zealand First</a></li>
  <li><a href="#not-included" id="toc-not-included" class="nav-link" data-scroll-target="#not-included">Not included</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="case-notes" class="level1">
<h1>Case notes</h1>
<section id="social-credit" class="level2">
<h2 class="anchored" data-anchor-id="social-credit">Social Credit</h2>
<p>Social Credit (sometimes called “Socred”) evolved from the Social Credit Political League of the 1950s, and like its successful Canadian namesake, was based on the social credit economic philosophy developed by C. H. Douglas. Social Credit went through many different phases as a party, but achieved its best result of 20.65% in 1981 under the leadership of Bruce Beetham. The party gradually declined after that, and by the 1987 election it had changed its name to the Democratic Party.</p>
<p>Gustafson (Gustafson 2006, 61) and Miller (Miller 1997, 168) both suggest that under Beetham the Social Credit Party was a fundamentally populist party given its conspiratorial hostility to financial elites. The party advocated financial reform and was built on a mainly rural and religious voter base. Its policies were a complicated balance of hostility to financial elites (OTH_ECONOMIC = 3) and a libertarian distrust in state bureaucrats (Davis 1980, 3). While there is some opposition to the political class in this, Beetham’s stated conciliatory strategy of working with opponents&nbsp;(Davis 1980, 4) makes him difficult to and the party a somewhat awkward fit for OTH_POLCLASS. We’ve coded Social Credit 2 on this variable, but more evidence of his campaigning language would help to clarify this. Beetham was highly critical of the IMF based global monetary system (Davis 1980, 3), but it would be a stretch to say that this constitutes a register on the OTH_FOREIGN variable (= 1). We’ve seen no evidence of anything for OTH_ETHNIC, OTH_IMMIGRANT or OTH_MILITARY.</p>
<p>While it seems to have been personally dominated by Beetham, the party had a well-established base of support and ideology before his ascendance, and hence we’ve coded it 2 on CHARISMA in 1981 and 1984, and 1 in the 1987 election after it parted with Beetham. We’ve seen no evidence to code above 1 for INSIDER or LIBDEMNORMS. The party is very difficult to code ideologically, but given the primacy of its criticisms of the economic system we’ve coded it CL.</p>
</section>
<section id="new-zealand-party" class="level2">
<h2 class="anchored" data-anchor-id="new-zealand-party">New Zealand Party</h2>
<p>The New Zealand Party (NZP) was founded by a group of business leaders before the 1984 election to advocate for neo-liberal policies at odds with the conservative National Party government. It soon became a personal vehicle for its leader, brash property mogul and former National financier Bob Jones. The NZP tallied 12% in the 1984 vote, where its main effect was allegedly to take votes away from National and put the Labour opposition into government (Roy 1986). Before the following election Jones claimed to be satisfied with the neo-liberal economic policies of the Labour government and withdrew from the party, precipitating its decline.</p>
<p>It is debatable whether Jones’ campaign narrative quite reaches the threshold for our minimum definition of populism, or whether his antipathy to elites was a combination of his singular grudge with incumbent Prime Minister Robert Muldoon and his neo-liberal ideological opposition to state power. We have included him mainly on the work of Gustafson, who suggests that Jones “detested state intervention and control and the interference of bureaucratic regulators, politically correct busybodies, traffic officers and journalists in his life” (Gustafson 2006, 59). In that capacity he accused Muldoon of being a “dictator” (Pugh 1984, 312). Given that this is less consistent than more conspiratorial narratives against the political class, we’ve coded NZP 2 on OTH_POLCLASS. We’ve seen no evidence for coding above 1 for OTH_ETHNIC, OTH_IMMIGRATS, OTH_FOREIGN, OTH_ECONOMIC, or OTH MILITARY.</p>
<p>The NZP’s image was built around Jones’ “explosive personality” (Martin 1984, 394), such that soon after its launch it became known as the “Jones Party” (Aimer 1988, 3) (CHARISMA =3). The party included some left-libertarian positions, but it is broadly considered right wing due to the primacy of its neo-liberal economic positions (Martin 1984, 394) (LRPOSITION = CR). Jones had not held any position in government before his campaign, even though he and Muldoon were “old mates” (Simpson 1986, 266). Jones famously punched a journalist the year after the election and was notably hostile to the media on the campaign trail, but we don’t think this quite rises to a violation of liberal democratic norms (LIBDEMNORMS = 1).</p>
</section>
<section id="new-zealand-first" class="level2">
<h2 class="anchored" data-anchor-id="new-zealand-first">New Zealand First</h2>
<p>New Zealand First (NZF) was formed by outspoken former National Party MP and minister Winston Peters in 1992 after he left his former party in opposition to its economic policy. NZF won 8.4% in the election the following year, which increased to its peak of 13.4% the following election before hovering around the high-single digits for most of the following two decades. Peters is known for his crass and abrasive style, offering personal criticisms of journalists and fellow politicians. The party has thrice played the part of kingmaker in minority governments led by both major parties, leading Peters to serve as Deputy PM and Treasurer 1996-98 (with the Nationals), and twice as Minister for Foreign affairs 2005-08 and 2017-present (both times with Labour).</p>
<p>Given his longevity on the political scene in New Zealand, coupled with his movement in and out of government (MacDonald 2022), the populist discourses of NZF have fluctuated to the point that they are difficult to pin down. In abstract terms, however, NZF’s discourse has been a combination of anti-elitism, anti-neoliberal and anti-globalisation economic stances, cultural nativism, and opposition to immigration. The most important feature that qualifies NZF for inclusion in the dataset is Peters’ relatively consistent anti-elitism (MacDonald 2022, 75). He claims to represent the “relegated, denigrated and forgotten” people of New Zealand against political, business, bureaucratic, and intellectual elites (Gustafson 2006, 62–63; Denemark and Bowler 2002, 51), capturing an “anti-party” sentiment unlike any other party in the country (Bale and Roberts 2002, 12). The following example of Peters’ rhetoric against the incumbent national government in 2017 captures the conspiratorial nature of this claim well:</p>
<blockquote class="blockquote">
<p>We have a government that works only for the elite few – not for you! We have a government that always puts the short-term profits and greed of its cronies ahead of the interests of New Zealanders as a whole. We have a government that serves the globalization agenda of its mates in big corporates and international business (cited in MacDonald 2019, 235–36).</p>
</blockquote>
<p>There is an argument that Peters’ has occasionally toned down his opposition to the political elite while serving in government (MacDonald 2022, 70), but for now we’ve coded him consistently 3 on OTH_POLCLASS.</p>
<p>There has been a consistent ethno-centrism to Peters’ discourse. The most complex and debated component of this relates to Maori issues. While Peters and many NZF MPs are of Maori heritage, he has been critical of what he calls the “grievance industry” (MacDonald 2019, 238), and he opposes affirmative action programs that favour indigenous people (Moffitt 2017, 133). This appears not to take a categorical “other” component within his populist language, but rather targets the Maori elite whom he claims has profited at the expense of “regular” Maori (Barker and Vowles 2020, 24). Peters and NZF have also framed their opposition to immigration in ethnic and cultural terms (MacDonald 2019, 236), particularly regarding Asian migrants (Vowles 2020, 46). He has claimed that New Zealand was witnessing a “Chinese invasion” (Gustafson 2006, 64), that domestic enterprises could be taken over by Chinese nationals (Callister 2011, 115), and he has been critical about the social habits of Asian migrants (Gustafson 2006, 64). More recently he has singled out Muslim migrants and asylum seekers, alleging that there was a “militant underbelly” to Islam (Moffitt 2017, 133). According to MacDonald, however, in recent years (especially since becoming foreign minister in 2005) Peters’ has engaged in more “dog whistle” xenophobia than the clear-cut nativism of his earlier statements, and has in more recent times distanced himself from more overtly racist comments made by members of his party (MacDonald 2019, 227, 236). This could be further researched, but we’ve coded Peters 3 on OTH_ETHNIC until 2005 and 2 afterward. We find that OTH_IMMIGRANT should be coded at 3 consistently.</p>
<p>Peters’ discourse has also targeted the business elite (Barker and Vowles 2020, 21), whom he once accused of “hijacking” the government (Miller 1997, 169). We have not seen quite enough evidence that this reaches beyond 2 on OTH_ECONOMIC. He has also built a general antipathy to foreign entities and interests that threaten the people of New Zealand. In 1996, for example, he asked “whose country is it? A country fit for the families of ordinary New Zealanders, whose votes have placed the politicians in power, or a paradise for foreign take-over merchants looking for cheap gains at our expense?” (cited in Gustafson 2006, 63). Given he has not alleged that his domestic rivals are wholly controlled by and loyal to these interests, we’ve kept OTH_FOREIGN at 2.</p>
<p>NZF is somewhat difficult to define on the left-right scale (see Donovan 2020). Peters original reason for leaving National was his opposition to privatisations and neo-liberal policies, and many scholars have placed the party in the ideological centre (Bale and Roberts 2002, 3; Vowles 2020, 63). However the more salient features of his rhetoric appear to be a kind of soft nationalism (Vowles 1997) and social conservativism (MacDonald 2019, 235). We’ve therefore coded him CR on LRPOSITION, which appears to be in line with most of the literature. The party has been totally reliant on Peters’ personality and “charismatic style” from its inception (Denemark and Bowler 2002, 52; Miller 1997, 172; Levine and Roberts 1994, 242; Joiner 2009), and he has maintained control of its organisation (Mulgan and Aimer 2004, 253) (CHARISMA =3).&nbsp;Peters has had a highly antagonistic relationship with the press throughout his career (Rudd and Connew 2007, 53), but we do not see enough evidence to code above 1 on LIBDEMNORMS (this is backed up by Barker and Vowles 2020, 22). As Peters held a cabinet position in National government before he launched NZP, we have labelled the party 2 on INSIDER from its inception.</p>
</section>
<section id="not-included" class="level2">
<h2 class="anchored" data-anchor-id="not-included">Not included</h2>
<p>Former Labour Party president Jim Anderton founded the breakaway <strong>NewLabour</strong> <strong>Party</strong> (NLP) in 1989 in reaction to the neo-liberal turn in Labour (specifically the privatisation of assets). NLP drew many members from the Labour Party, although Anderton was its only MP. After the 1990 election, the NLP merged with several other parties (including the Democratic Party, a.k.a. Social Credit) to form <strong>The Alliance</strong> before the 1993 election, with Anderton as its leader. After initially polling well, the fortunes of the party declined before the 1993 election when Winston Peters (with whom the Alliance had been in discussions about recruiting) started NZF (Jesson 1997, 159). The Alliance went on to form government with Labour after the 1999 election, after which their electoral fortunes declined. Gustafson claims that Anderton himself was “undeniably” a populist (Gustafson 2006), and the Alliance played heavily on the pledge that they would not break their promises like the other parties did, even pledging to resign if they did, giving them a “revivalist” and anti-politics appeal in the electorate (Jesson 1997, 162). However we have not seen enough evidence that this quite reaches the threshold of anti-elite hostility necessary to meet our minimum definition, and the party appears to be more of a policy driven soft-protest party rather than a truly populist one. There is a case to be made that <strong>Robert Muldoon</strong> (National Party PM 1975-84) was a populist (see Gustafson 2006), and some have considered Peters to be the natural successor of Muldoon’s in this regard (Joiner 2009). This could be investigated further, but for now we don’t quite see the evidence for this as it relates to our minimum definition.&nbsp;</p>
<p><strong>References</strong></p>
<p>Aimer, Peter. 1988. ‘The Rise of Neo-Liberalism and Right Wing Protest Parties in Scandinavia and New Zealand: The Progress Parties and the New Zealand Party’. <em>Political Science</em> 40 (2): 1–15.</p>
<p>Bale, Tim, and Nigel S. Roberts. 2002. ‘Plus Ça Change … ? Anti-Party Sentiment and Electoral System Change: A New Zealand Case Study’. <em>Commonwealth &amp; Comparative Politics</em> 40 (2): 1–20. https://doi.org/10.1080/713999587.</p>
<p>Barker, Fiona, and Jack Vowles. 2020. ‘Populism and Electoral Politics in New Zealand’. In <em>A Populist Exception?: The 2017 New Zealand General Election</em>, edited by Jack Vowles and Jennifer Curtin, 9–34. Acton: ANU Press.</p>
<p>Callister, Paul. 2011. ‘The Construction of Ethnicity and “belonging” in New Zealand: Where We Have Come from and Where We Might Be Going’. <em>Journal of New Zealand Studies</em>, January. https://search.informit.org/doi/abs/10.3316/informit.315948902859049.</p>
<p>Davis, Dianne R. 1980. ‘The “Operational Code” of Bruce Craig Beetham’. <em>Political Science</em> 32 (1): 1–17. https://doi.org/10.1177/003231878003200101.</p>
<p>Denemark, David, and Shaun Bowler. 2002. ‘Minor Parties and Protest Votes in Australia and New Zealand: Locating Populist Politics’. <em>Electoral Studies - ELECT STUD</em> 21 (March): 47–67. https://doi.org/10.1016/S0261-3794(00)00034-2.</p>
<p>Donovan, Todd. 2020. ‘Misclassifying Parties as Radical Right/Right Wing Populist: A Comparative Analysis of New Zealand First’. <em>Political Science</em> 72 (1): 58–76.</p>
<p>Gustafson, Barry. 2006. ‘Populist Roots of Political Leadership in New Zealand’. In <em>Political Leadership in New Zealand</em>, edited by Raymond Miller and Michael Mintrom, 51–69. Auckland, N.Z: Auckland University Press.</p>
<p>Jesson, Bruce. 1997. ‘The Alliance’. In <em>New Zealand Politics in Transition: Raymond Miller</em>, edited by Raymond Miller, 156–64. Auckland: Oxford University Press. https://www.amazon.com/Zealand-Politics-Transition-Raymond-Miller/dp/0195583396.</p>
<p>Joiner, Margaret. 2009. ‘New Zealand First: Parallels between the Man and the Party’. In <em>New Zealand Political Studies Association Conference</em>. Vol. 30.</p>
<p>Levine, Stephen, and Nigel S. Roberts. 1994. ‘The New Zealand Electoral Referendum and General Election of 1993’. <em>Electoral Studies</em> 13 (3): 240–53.</p>
<p>MacDonald, David B. 2019. ‘Between Populism and Pluralism: Winston Peters and the International Relations of New Zealand First’. In <em>Populism and World Politics: Exploring Inter- and Transnational Dimensions</em>, edited by Frank A. Stengel, David B. MacDonald, and Dirk Nabers, 227–49. Global Political Sociology. Cham: Springer International Publishing. https://doi.org/10.1007/978-3-030-04621-7_9.</p>
<p>———. 2022. ‘“An Antipodean Populism? Winston Peters, New Zealand First, and the Problems of Misclassification”’. In <em>The Palgrave Handbook of Populism</em>, edited by Michael Oswald, 69–83. Cham: Springer International Publishing. https://doi.org/10.1007/978-3-030-80803-7_4.</p>
<p>Martin, Ged. 1984. ‘From Muldoon to Lange: New Zealand Votes in 1984’. <em>The Round Table</em> 73 (292): 392–402.</p>
<p>Miller, Raymond. 1992. ‘The Minor Parties’. In <em>New Zealand Politics in Perspective</em>, edited by Hyam Gold, 3rd ed., 310–25. Auckland: Longman Paul.</p>
<p>———. 1997. ‘The New Zealand First Party’. In <em>New Zealand Politics in Transition</em>, 165–76. Oxford University Press.</p>
<p>Moffitt, Benjamin. 2017. ‘Populism in Australia and New Zealand’. In <em>The Oxford Handbook of Populism</em>, edited by Paulina Ochoa Espejo, Pierre Ostiguy, Paul Taggart, and Cristóbal Rovira Kaltwasser, 121–39. Oxford University Press.</p>
<p>Mulgan, Richard, and Peter Aimer. 2004. <em>Politics in New Zealand</em>. Auckland, UNITED STATES: Auckland University Press. http://ebookcentral.proquest.com/lib/rmit/detail.action?docID=1563891.</p>
<p>Pugh, Michael. 1984. ‘New Zealand: The Battle for the Middle Ground’. <em>The World Today</em> 40 (7): 308–14.</p>
<p>Roy, Theo. 1986. ‘What Happened in New Zealand’. <em>Quadrant</em> 30 (5): 33–36.</p>
<p>Rudd, Chris, and Scott Connew. 2007. ‘Minor Parties and Media Coverage during the 2005 New Zealand Election’. <em>Political Science</em> 59 (2): 51–62.</p>
<p>Simpson, Alan. 1986. ‘A New Generation Takes Over in New Zealand’. <em>The Round Table</em> 75 (299): 263–68.</p>
<p>Vowles, Jack. 1997. ‘The New Zealand General Election of 1996’. <em>Electoral Studies</em> 16 (2): 258–62.</p>
<p>———. 2020. ‘Populism and the 2017 Election - The Background’. In <em>A Populist Exception?: The 2017 New Zealand General Election</em>, edited by Jack Vowles and Jennifer Curtin, 35–70. Acton: ANU Press.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>