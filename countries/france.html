<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>World Populism Dataset - France</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: yes;
      }
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">World Populism Dataset</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://shiny.nectric.com.au/wpd-app/" rel="" target="">
 <span class="menu-text">App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes.html" rel="" target="">
 <span class="menu-text">Case notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-downloads" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-download" role="img">
</i> 
 <span class="menu-text">Downloads</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-downloads">    
        <li>
    <a class="dropdown-item" href="../#" rel="" target="">
 <span class="dropdown-text">All data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../license.html" rel="" target=""><i class="bi bi-file-certificate" role="img">
</i> 
 <span class="menu-text">License</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/World-Populism-Dataset/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">France</h1>
            <p class="subtitle lead">Date range: 1980-2020</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-notes" id="toc-case-notes" class="nav-link active" data-scroll-target="#case-notes">Case notes</a>
  <ul class="collapse">
  <li><a href="#front-national" id="toc-front-national" class="nav-link" data-scroll-target="#front-national">Front National</a></li>
  <li><a href="#france-unbowed" id="toc-france-unbowed" class="nav-link" data-scroll-target="#france-unbowed">France Unbowed</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="case-notes" class="level1">
<h1>Case notes</h1>
<section id="front-national" class="level2">
<h2 class="anchored" data-anchor-id="front-national">Front National</h2>
<p>The Front National (FN) began in the 1970s as a conglomeration of several right-wing groups. It has gone through several ideological phases, focussing initially on anti-communism (1970s), then opposition to immigration (1980s-) and more recently opposition to globalisation (1990s-) (Hainsworth and Mitchell 2000, 444), and until 2011 was led by Jean-Marie Le Pen. The FN grew steadily through successive legislative and presidential elections, leading up to Le Pen’s break out performance in the 2002 presidential elections, the first in which he made it to the second round (and lost with 17.8%). Le Pen was succeeded by his daughter Marine in 2011, who recorded another second-round presidential appearance in 2017, also losing but with an increased 33.9%.</p>
<p>In its criticism of elites and championing of “ordinary folk” (Balent 2013, 177), the party has always had an anti-elite and anti-establishment motif (Van Kessel 2015, 45; Hainsworth 2004, 107; Rydgren 2008, 166), and it denigrated opponents with “highly hostile” rhetoric (Eatwell 2002, 14). According to Rydgren, this involved a strategy of depicting “all political parties as constituting a single, homogeneous political class” (Rydgren 2008, 174). Le Pen claimed in 1995 for example that the “rotation [of mainstream left and right parties in the fifth republic] is false, since there are no differences between the two components of French politics” (cited in Rydgren 2008, 177). The party’s core accusation against this political class has been both corruption (Hainsworth 2004, 104), and national betrayal (Shields 1995, 24). This anti-establishment attitude was maintained by Marine Le Pen, whose campaigns considered established parties “crooked” (Stockemer and Barisione 2017, 104). We’ve therefore coded FN 3 for OTH_POLCLASS.</p>
<p>However the central ideological principle of the party has always been its OTH_IMMIGRANT and OTH_ETHNIC focus (Marcus 1995; Hainsworth and Mitchell 2000, 444; Rydgren 2008, 168). Its “national preference” policy explicitly advocated supporting French nationals over people from other backgrounds (even those with legal residency) in state programmes (Hainsworth 2004, 106; Hainsworth and Mitchell 2000, 106). This reflected that party’s ethno-nationalist ideas about the French nation being under siege from Third World migrant cultures and transnational affinities and structures like globalisation, the European Union and Islam (Balent 2013, 165; Hainsworth and Mitchell 2000, 445; Eatwell 2002, 12). On both variables, while there is a difference between the radical proposals of the 1980s and the somewhat more moderate approaches of recent years (Hainsworth 2004, 106), this should not see the party decline from a 3.</p>
<p>More complicated are the OTH_ECONOMIC and OTH_FOREIGN variables. In economic policy, the party originally claimed a neoliberal identity in the 1970s and 1980s, advocating privatisations, lower taxes and free-marketism (Bastow 1997, 64). While it did possess a general suspicion of big business common on the far right (Bastow 1997; Hainsworth and Mitchell 2000, 446), we’ve not seen evidence that financial elites themselves were an “other” or an “enemy” to the party’s conception of ordinary people. The FN’s economic policy began to veer toward protectionism in the 1990s, which was bound with its opposition to globalisation, and came in the form of opposing free trade and “multinationals” (Bastow 1997, 65). According to Rydgren, (Rydgren 2008, 170), multinational corporations became a target of the party’s populist rhetoric. The work of Ivaldi (Ivaldi 2015, 358–60) in particular shows how more leftward economic policy has become increasingly important to the FN search for working class voters, particularly in the post-GFC period, as (under Marine) the party portrayed the elite in economic terms. It does not appear that this has ever reached a 3 on the OTH_ECONOMIC scale, as the party has still prioritised the cultural and ethnic dimensions of populism (Balent 2013, 163). We’ve increased this from 1 to 2 in 2012, further research should confirm the timing and degree of this.</p>
<p>While the party’s direct focus on globalisation dates to the 1990s, its OTH_FOREIGN populism has always been strong, initially with the elder Le Pen’s hostility to the United States, NATO, and the WTO (Hainsworth 2004, 107). In 2001, for example, Jean-Marie claimed that France was becoming an “American protectorate” (Hainsworth 2004, 107). Like many far-right parties in Europe, the EU has grown as a target of FN’s populism, and today constitutes a clear enemy of the French nation (Rydgren 2008, 170). This consistent opposition to various foreign influences warrants a 3 on the OTH_FOREIGN scale. We’ve seen no evidence for anything on the OTH_MILITARY variable (= 1).</p>
<p>The FN has always been strongly identified with the Le Pens (Balent 2013, 170; Stockemer 2019, 342), and although it has included anti-Le Pen factions over the years it has been highly centralised in its structure (Shields 1995, 23). Under Jean-Marie Le Pen it has been routinely called a “charismatic” party (Ivaldi and Lanzone 2016, 132), and despite Marine Le Pen’s less performative leadership style (Balent 2013, 162), it has maintained a similar “personality cult” around her (Stockemer 2019). We’ve therefore coded it 3 n CHARISMA.</p>
<p>This difference in leadership also relates to the party’s LIBDEMNORMS classification. We don’t see evidence that the party has ever been a 3 on this scale, and it appears to have stressed its support for democracy at various points in its life (Rydgren 2008, 176) in order to rebuff the accusation that it is a neo-fascist party, even while flirting with some authoritarian anti-system rhetoric. According to Balent (Balent 2013, 186), Marine has decisively sought to change course on this and develop an image for the Front that, while anti-establishment in the populist sense, is a part of the democratic political system. For this reason we have labelled the party 2 under Jean-Marie and 1 under Marine. Neither leader has ever been a member of a government (INSIDER = 1).</p>
</section>
<section id="france-unbowed" class="level2">
<h2 class="anchored" data-anchor-id="france-unbowed">France Unbowed</h2>
<p><em>La France Insoumise</em> (LFI), which is variously translated as “France Unbowed”, “Rebellious France”, and “Unsubmissive France”, is the leftist party founded by Jean-Luc Mélenchon. Mélenchon, a former Socialist Party Minister between 2000 and 2002, left the party in 2008 over policy direction, initially founding The Left Party (<em>Parti de gauch</em>, PDG) and heading The Left Front (<em>Front de gauche</em>) coalition for the 2012 elections where he tallied a surprising 11%. While the PDG faded after that vote, Mélenchon’s profile received a major boost by the 2016 protests against labour reforms by the Socialist government (Damiani 2017, 2), after which he founded LFI to face the 2017 presidential and parliamentary elections on an anti-austerity and anti-neoliberalism agenda.</p>
<p>Mélenchon campaigned on a clearly anti-establishment discourse, vowing a programme of “degagisme” (clearing out) of the political “caste” (Ivaldi 2019, 4; Behrent 2017, 76) and a “citizen insurrection” via the ballot (Marlière 2019, 97). According to Ducange (Ducange 2015, 65) the “people” vs “elite” discourse was more important to Mélenchon than “left” vs “right”. He therefore avoided identifying as a leftist on the campaign trail (Marlière 2019, 96). This included parties on the left and right of the established party system (Clift and McDaniel 2017). The other (linked) enemy to Mélenchon’s idea of the ordinary people was the “oligarchy”, which he pledged to “sweep away” (Ivaldi 2019, 4) (OTH_ECONOMIC = 3). According to several scholars (Damiani 2017, 2; Marlière 2019, 100; Hamburger 2018, 103) Mélenchon and LFI are inspired directly by the Ernesto Laclau and Chantal Mouffe theory that broad and heterogenous opposition to neoliberalism should create new groups of citizens that transcend traditional categories like “workers” or organisations like unions – hence the party’s embrace of more populist social categories than the traditional left.</p>
<p>There is some debate about whether Mélenchon should be considered a populist in both the 2012 and 2017 elections. According to a number of sources, while he campaigned as a conventional left wing candidate in 2012, his second campaign shed many symbols and language of the left (class and social divisions, red flags and socialist anthems) and replaced them with patriotic symbols of a more general “people” (the national flag and anthem) which had traditionally been associated with the right (Marliére 2017; Hamburger 2018, 106–7). However some who document this very shift still identify classically people/elite discourse in his earlier run (Marlière 2019), and most voices in the literature categorise FDG as populist in 2012 (Ivaldi 2019; Ducange 2015, 65). Based on the presence of anti-elitism, we’ve included Mélenchon’s 2012 campaign in the dataset and classified him as 2 on OTH_POLCLASS in 2012 and 3 in 2017.</p>
<p>LFI is hostile to the European Union on economic grounds. It has accused the EU of imposing a “tyranny” on France via liberal economic orthodoxy and free trade (Ivaldi 2019, 6), and called the Eurozone pressure for austerity “German Poison” (Ducange 2015, 70). Mélenchon has in fact routinely linked problems in Europe to the “German Imperium”, or Germany’s plan to reinstate its dominance over the continent (Bonansinga 2022, 518). While Mélenchon claimed in 2017 that his “plan A” was to radically reform the EU’s treaties, his “plan B” in the event of a failure was to leave the EU (Drake 2018, 98), and the <em>Insoumise</em> title of the party could be considered to refer (at least in part) to a reclaiming of sovereignty in the face of foreign pressure (OTH_FOREIGN = 3).</p>
<p>As opposed to the nativist FN, LFI is considered “socially inclusive” and did not campaign against immigration (Ivaldi 2019) (OTH_ETHNIC = 1, OTH_IMMIGRANTS = 1) It is universally considered a party of the “radical left” French tradition (despite Mélenchon’s eschewing of the term), and we have coded it FL on LRPOSITION. Its campaigns have been based around Mélenchon’s personal charisma (Lorimer 2017, 2; Ivaldi 2019, 10; Marlière 2019, 95), and he is usually considered a “strong personality” (Ducange 2015, 65) or even the leader of a “cult of personality” (Clift and McDaniel 2017, 411) that anchors the party’s image (CHARISMA = 3). As a “seasoned career politician” (Marlière 2019, 96) and a former cabinet minister, we’ve coded LFI 2 on INSIDER. The party is somewhat difficult to code on LIBDEMNORMS. It has been generally hostility to media scrutiny and representative democratic institutions (Hamburger 2018, 100), but we’ve not seen quite enough evidence that this warrants coding above 1.</p>
<p><strong>References</strong></p>
<p>Balent, Magali. 2013. ‘The French National Front from Jean-Marie to Marine Le Pen: Between Change and Continuity’. In <em>Exposing the Demagogues: Right-Wing and National Populist Parties in Europe</em>, edited by Karsten Grabow and Florian Hartleb, 161–87. Brussels: Konrad Adenauer Stiftung.</p>
<p>Bastow, Steve. 1997. ‘Front National Economic Policy: From Neo-Liberalism to Protectionism’. <em>Modern &amp; Contemporary France</em> 5 (1): 61–72.</p>
<p>Behrent, Michael C. 2017. ‘Twilight of the Political? On the Ideological Disarray of French Politics’. <em>Modern &amp; Contemporary France</em> 25 (1): 75–81.</p>
<p>Bonansinga, Donatella. 2022. ‘“A Threat to Us”: The Interplay of Insecurity and Enmity Narratives in Left-Wing Populism’. <em>The British Journal of Politics and International Relations</em> 24 (3): 511–25.</p>
<p>Clift, Ben, and Sean McDaniel. 2017. ‘Is This Crisis of French Socialism Different? Hollande, the Rise of Macron, and the Reconfiguration of the Left in the 2017 Presidential and Parliamentary Elections’. <em>Modern &amp; Contemporary France</em> 25 (4): 403–15.</p>
<p>Damiani, Marco. 2017. ‘The Transformation of Jean-Luc Mélenchon: From Radical Outsider to Populist Leader’. Online resource. <em>LSE European Politics and Policy (EUROPP) Blog</em> (blog). London School of Economics and Political Science. 22 April 2017. http://blogs.lse.ac.uk/europpblog/.</p>
<p>Drake, Helen. 2018. ‘France, Britain and Brexit’. In <em>Brexit and Beyond: Rethinking the Futures of Europe</em>, edited by Benjamin Martill and Uta Staiger, 97–104. London: UCL Press.</p>
<p>Ducange, Jean-Numa. 2015. ‘The Radical Left in France’. <em>Socialism and Democracy</em> 29 (3): 62–70.</p>
<p>Eatwell, Roger. 2002. ‘The Rebirth of Right-Wing Charisma? The Cases of Jean-Marie Le Pen and Vladimir Zhirinovsky’. <em>Totalitarian Movements and Political Religions</em> 3 (3): 1–23.</p>
<p>Hainsworth, Paul. 2004. ‘The Extreme Right in France: The Rise and Rise of Jean-Marie Le Pen’s Front National’. <em>Representation</em> 40 (2): 101–14.</p>
<p>Hainsworth, Paul, and Paul Mitchell. 2000. ‘France: The Front National from Crossroads to Crossroads?’ <em>Parliamentary Affairs</em> 53 (3): 443–56.</p>
<p>Hamburger, Jacob. 2018. ‘Whose Populism? The Mixed Messages of La France Insoumise’. <em>Dissent</em> 65 (3): 101–10.</p>
<p>Ivaldi, Gilles. 2015. ‘Towards the Median Economic Crisis Voter? The New Leftist Economic Agenda of the Front National in France’. <em>French Politics</em> 13 (4): 346–69.</p>
<p>———. 2019. ‘Populism in France’. In <em>Populism Around the World: A Comparative Perspective</em>, edited by Daniel Stockemer, 27–48. Cham: Springer.</p>
<p>Ivaldi, Gilles, and Maria Elisabetta Lanzone. 2016. ‘5 The French Front National: Organizational Change and Adaptation from Jean-Marie to Marine Le Pen’. In <em>Understanding Populist Party Organisation: The Radical Right in Western Europe</em>, edited by Reinhard Heinisch and Oscar Mazzoleni, 131–58. Palgrave Studies in European Political Sociology. London: Palgrave Macmillan UK. https://doi.org/10.1057/978-1-137-58197-6_6.</p>
<p>Lorimer, Marta. 2017. ‘A Four Horse Race? What to Expect from the French Presidential Election’. Online resource. <em>LSE European Politics and Policy (EUROPP) Blog</em> (blog). London School of Economics and Political Science. 20 April 2017. http://blogs.lse.ac.uk/europpblog/.</p>
<p>Marcus, Jonathan. 1995. <em>The National Front and French Politics: The Resistible Rise of Jean-Marie Le Pen</em>. New York: NYU Press.</p>
<p>Marliére, Philippe. 2017. ‘Jean-Luc Mélenchon’s Populist Gamble | openDemocracy’. <em>Open Democracy</em> (blog). 27 October 2017. https://www.opendemocracy.net/en/can-europe-make-it/jean-luc-m-lenchon-s-populist-gamble/.</p>
<p>Marlière, Philippe. 2019. ‘Jean-Luc Mélenchon and France Insoumise: The Manufacturing of Populism’. In <em>The Populist Radical Left in Europe</em>, edited by Giorgos Katsambekis and Alexandros Kioupkiolis, 93–112. Abingdon: Routledge.</p>
<p>Rydgren, Jens. 2008. ‘France: The Front National, Ethnonationalism and Populism’. In <em>Twenty-First Century Populism: The Spectre of Western European Democracy</em>, edited by Daniele Albertazzi and Duncan McDonnell, 166–80. London: Palgrave Macmillan UK. https://doi.org/10.1057/9780230592100_11.</p>
<p>Shields, James G. 1995. ‘Le Pen and the Progression of the Far-Right Vote in France’. <em>French Politics and Society</em>, 21–39.</p>
<p>Stockemer, Daniel. 2019. ‘What Is Right-Wing Populism and How Does It Manifest Itself? An Analysis of the French National Front’s Facebook Posts and Sympathizers’ Facebook Comments’. <em>French Politics</em> 17 (3): 340–54. https://doi.org/10.1057/s41253-019-00082-w.</p>
<p>Stockemer, Daniel, and Mauro Barisione. 2017. ‘The ’New’Discourse of the Front National under Marine Le Pen: A Slight Change with a Big Impact’. <em>European Journal of Communication</em> 32 (2): 100–115.</p>
<p>Van Kessel, Stijn. 2015. <em>Populist Parties in Europe: Agents of Discontent?</em> Springer.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>