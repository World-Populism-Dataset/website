<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>World Populism Dataset - Iceland</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: yes;
      }
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">World Populism Dataset</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://shiny.nectric.com.au/wpd-app/" rel="" target="">
 <span class="menu-text">App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes.html" rel="" target="">
 <span class="menu-text">Case notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-downloads" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-download" role="img">
</i> 
 <span class="menu-text">Downloads</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-downloads">    
        <li>
    <a class="dropdown-item" href="../#" rel="" target="">
 <span class="dropdown-text">All data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../license.html" rel="" target=""><i class="bi bi-file-certificate" role="img">
</i> 
 <span class="menu-text">License</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/World-Populism-Dataset/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Iceland</h1>
            <p class="subtitle lead">Date range: 1980-2020.</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-notes" id="toc-case-notes" class="nav-link active" data-scroll-target="#case-notes">Case notes</a>
  <ul class="collapse">
  <li><a href="#progressive-party-centre-party" id="toc-progressive-party-centre-party" class="nav-link" data-scroll-target="#progressive-party-centre-party">Progressive Party / Centre Party</a></li>
  <li><a href="#citizens-movement" id="toc-citizens-movement" class="nav-link" data-scroll-target="#citizens-movement">Citizens’ Movement</a></li>
  <li><a href="#pirate-party" id="toc-pirate-party" class="nav-link" data-scroll-target="#pirate-party">Pirate party</a></li>
  <li><a href="#not-included" id="toc-not-included" class="nav-link" data-scroll-target="#not-included">Not included</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="case-notes" class="level1">
<h1>Case notes</h1>
<section id="progressive-party-centre-party" class="level2">
<h2 class="anchored" data-anchor-id="progressive-party-centre-party">Progressive Party / Centre Party</h2>
<p>Progressive Party (<em>Framsóknarflokkurinn</em>, FSF) is an agrarian party that has been one of Iceland’s major parties since its foundation in 1916. The party undertook a dramatic change in leadership and rhetoric after the in 2008 financial crisis, following which it alleged that Iceland had become the victim of foreigners (in part due to the specific issue of the “Icesave” bank collapse and its consequences). It alleged that the incumbent government was guilty of “treason” and “humiliating the nation” by showing leniency to the UK, the Netherlands and the IMF (Eiríkur Bergmann 2015, 46; Newhouse 2017) (OTH_POLCLASS =3, OTH_FOREIGN = 3). The party’s hard line position on the issue led to a dramatic increase in its electoral fortunes in 2013, when it surged to 24.43% (Önnudóttir et al.&nbsp;2022, 40). It also campaigned against corruption in the banking sector as a whole (Hallgrímsdóttir and Brunet-Jailly 2016, 112) (OTH_ECONOMIC = 3). The new party leadership also gradually developed a nativist opposition to immigrants, associating asylum seekers with crime, and standing against Muslims and the construction of Mosques (Eiríkur Bergmann 2015, 48; Holbrook 2014; Newhouse 2017). However, there seems to be a consensus that the party fell short of becoming the out and out right wing nativist parties common in mainland Europe and Scandinavia (see for example Herkman and Jungar 2021, 247), and hence we’ve coded both OTH_IMMIGRANTS and OTH_ETHNIC at 2. Following Önnudóttir <em>et al</em> we’ve coded the party as CR on LRPOSITION (Önnudóttir et al.&nbsp;2022, 2).</p>
<p>During this time the party was strongly dependent on its leader Sigmundur Davíð Gunnlaugsson (Eiríkur Bergmann 2015, 48) although it had a well-established base as well (CHARISMA = 2 2009-13). Sigmundur Davíð joined the PP only weeks before the 2009 election (Harðarson and Kristinsson 2010, 524). The party won the 2013 elections and Sigmundur Davíð became Prime Minister, before being forced to quit after his offshore tax evasion was exposed in the Panama Papers in 2016 (Bernburg 2019). He then took his faction out of the PP and formed the <strong>Centre Party (CP)</strong> for the snap 2017 election, which (from the limited available evidence) seems to have carried the same populist narrative as PP (Önnudóttir et al.&nbsp;2022, 22), and been even more centred on his personal appeal (Malmquist 2017) (CHARISMA =3). After this change in leadership the PP returned to its pre-crisis non-populist form (Eirikur Bergmann 2017, 94).</p>
</section>
<section id="citizens-movement" class="level2">
<h2 class="anchored" data-anchor-id="citizens-movement">Citizens’ Movement</h2>
<p>The Citizens’ Movement (<em>Borgarahreyfingin</em>, CM – sometimes called the “Civic Movement”) was a direct offshoot of the “pots and pans” revolution that followed the financial crisis – named after the kitchen utensils that protesters banged together on the streets outside Parliament (Harðarson and Kristinsson 2010, 524; Bernburg and Víkingsdóttir 2016). This spontaneous set of protests brought down the Independence Party government that had overseen the neoliberal financial policies blamed for the crisis. CM polled 7.2% in the election, but disbanded soon afterward due to infighting following the conflicting priorities of its members (Ómarsdóttir and Valgarðsson 2020, 846).</p>
<p>The party positioned itself as an agent of radical change (Ómarsdóttir and Valgarðsson 2020, 845), and maintained a staunch anti-political anti-establishment character (Önnudóttir et al.&nbsp;2022, 23; Newhouse 2017). In the 2009 election the party campaigned broadly against “the system, politicians and bankers” (Van Kessel 2015, 51) and according to Ólafsson possessed a streak of “militant radicalism” (Ólafsson 2019, 127) (OTH_POLCLASS =3, OTH_ECONOMIC = 3). It thus formed a left-leaning protest narrative that contrasted with the PP’s simultaneous nationalism (OTH_IMMGIRATNS = 1, OTH_ETHNIC = 1, LRPOSITION = L). The party won 4 seats in that election on a platform of “Let's bring the people to parliament” (Þórsson 2017). We have seen no evidence of OTH_FOREIGN discourse (= 1), but this could be further investigated.</p>
<p>The party is regarded as a quite “grassroots” initiative (Ólafsson 2019, 127), whose leaderlessness was evident in the way it collapsed soon after the election (CHARISMA = 1). We’ve seen no evidence that it threatened liberal democratic norms (LIBDEMNORMS = 1), and none of its leaders had ever served in government (INSIDER = 1).</p>
</section>
<section id="pirate-party" class="level2">
<h2 class="anchored" data-anchor-id="pirate-party">Pirate party</h2>
<p>The Pirate Party (<em>Píratar</em>) was a continuation of the CM, led and founded by one of that party’s four MPs Birgitta Jónsdóttir. It combined leftist opposition to the financial system with libertarian individualism and administrative decentralisation. It had a close association with Wikileaks (whom Jónsdóttir used to work for), and frequently raised the issue of press freedom. After leading the polls for months in the run up to the 2016 election, the party received 14.6% and thus became one of the best represented parties in the legislature. This dropped to 9.2% in the 2017 election. These results make the Icelandic Pirates one of the most successful Pirate Parties in the world.</p>
<p>There is much debate by comparative populism theorists about whether Pirate Parties should be considered populist in any way, and some have declared that Iceland’s is not populist (see for example Van Kessel 2015, 52). Iceland’s Pirates appear to differ from others within this family by being more serious about policy beyond the internet freedom issues that “Piratism” had depended on (Newhouse 2017; Dapin 2017), and given the context of the banking crisis (associated with failure of the political class as a whole), the party appears to have had a more pronounced “anti-system” character in its discourse (Önnudóttir et al. 2022, 23) – albeit packaged in a very institutionally liberal approach. Newhouse, for example, argues that the Pirates picked up the mantle of anti-establishment revolt that had started in the pots and pans revolution and continued through the CM, culminating in the 2016 election campaign in which “the Pirates established themselves early on as the antithesis to the establishment politicians in power” (Newhouse 2017). On this basis, we’ve included the Pirates in the dataset, and coded them 3 on OTH_POLCLASS. Given their leftist orientation and their legacy in the pots and pans revolution, it seems likely that the party was also opposed to OTH_ECONOMIC elites – however we’ve not come across direct evidence of this, so we’ve labelled the party 1 for the time being. Likewise, we’ve seen no evidence regarding OTH_FOREIGN discourse (= 1).</p>
<p>While the ideology of all Pirate parties is somewhat alien to the conventional left-right scale, the Icelandic Pirates appear to have adopted a generally left-wing approach to issues like welfare, healthcare, and housing (Ómarsdóttir and Valgarðsson 2020, 848), and hence seem to fit the L category on LRPOSITION. The party has never been in government (INSIDER = 1), and does not attempt to violate the norms of liberal democracy according to available evidence (LIBDEMNORMS = 1). The party possessed a relatively strong organisational base (Ólafsson 2019, 127), and as it formally has no official leader (Ómarsdóttir and Valgarðsson 2020, 847), it doesn’t seem to rely on its leadership for its appeal (CHARISMA = 1).</p>
</section>
<section id="not-included" class="level2">
<h2 class="anchored" data-anchor-id="not-included">Not included</h2>
<p><strong>Bright future</strong> has links to an earlier populist party, the Best Party of comedian Jón Gnarr, who previously ran successfully in the Reykjavik mayoral election on an anti-establishment and anti-politics narrative (Ómarsdóttir and Valgarðsson 2020, 846). While Gnarr joined Bright Future, available evidence suggests that this party charted a different direction to the Best Party (Önnudóttir et al.&nbsp;2022, 119), and we have therefore not included it here. The <strong>People’s Party</strong> of Inga Sæland is a relatively young and small party has been considered populist in some literature. This seems to be due to Sæland’s occasional criticism of the welfare benefits that asylum seekers, and her focus on corruption. However we’ve not found sufficient evidence to show that this reached a level that warrants inclusion in the dataset. This should be investigated further.</p>
<p><strong>References</strong></p>
<p>Bergmann, Eiríkur. 2015. ‘Populism in Iceland: Has the Progressive Party Turned Populist?’ <em>Icelandic Review of Politics &amp; Administration</em> 11 (1): 33–54. https://doi.org/10.13177/irpa.a.2015.11.1.3.</p>
<p>Bergmann, Eirikur. 2017. <em>Nordic Nationalism and Right-Wing Populist Politics: Imperial Relationships and National Sentiments</em>. Springer.</p>
<p>Bernburg, Jón Gunnar. 2019. ‘The Cascading Crisis and the Changing Base of Popular Protest: The Case of Iceland’. <em>Current Sociology</em> 67 (7): 1018–38.</p>
<p>Bernburg, Jón Gunnar, and Anna Soffía Víkingsdóttir. 2016. ‘Political Opportunity, Framing, and Mobilization in Iceland’s Post-Crash Protests’. In <em>Iceland’s Financial Crisis: The Politics of Blame, Protest, and Reconstruction</em>, edited by Valur Ingimundarson, Philippe Urfalino, and Irma Erlingsdóttir, 81–102. London: Routledge.</p>
<p>Dapin, Mark. 2017. ‘Iceland Activist Birgitta Jonsdottir: The Future Face of Populism?’ <em>The Sydney Morning Herald</em>, 26 January 2017. https://www.smh.com.au/lifestyle/the-future-face-of-populism-20170126-gtyv9f.html.</p>
<p>Hallgrímsdóttir, Helga Kristín, and Emmanuel Brunet-Jailly. 2016. ‘Contentious Politics, Political Expediency, and the Real Costs of the Icesave Debt’. In <em>Iceland’s Financial Crisis: The Politics of Blame, Protest, and Reconstruction</em>, edited by Valur Ingimundarson, Philippe Urfalino, and Irma Erlingsdóttir, 102–20. London: Routledge.</p>
<p>Harðarson, Ólafur, and Gunnar Kristinsson. 2010. ‘The Parliamentary Election in Iceland, April 2009’. <em>Electoral Studies - ELECT STUD</em> 29 (September): 523–26. https://doi.org/10.1016/j.electstud.2010.04.011.</p>
<p>Herkman, Juha, and Ann-Cathrine Jungar. 2021. ‘Populism and Media and Communication Studies in the Nordic Countries’.</p>
<p>Holbrook, Donald. 2014. ‘A Cold Reception: The Rise of Anti-Islamic Sentiments in Iceland?’ OpenDemocracy. 12 June 2014. https://www.opendemocracy.net/en/can-europe-make-it/cold-reception-rise-of-antiislamic-sentiments-in-iceland/.</p>
<p>Malmquist, Björn. 2017. ‘Iceland’s Ex-Leader Poised for Political Resurrection’. POLITICO. 27 October 2017. https://www.politico.eu/article/sigmundur-david-gunnlaugsson-iceland-ex-leader-poised-for-political-resurrection/.</p>
<p>Newhouse, Alex. 2017. ‘A Story of Pirates and Populism’. <em>Medium</em>, 4 June 2017. https://medium.com/<span class="citation" data-cites="AlexBNewhouse/a-story-of-pirates-and-populism-6ea9aee2d1c7">@AlexBNewhouse/a-story-of-pirates-and-populism-6ea9aee2d1c7</span>.</p>
<p>Ólafsson, Jón. 2019. ‘So Strong, Yet So Weak: The Emergence of Protest Publics in Iceland in the Wake of the Financial Crisis’. <em>Protest Publics: Toward a New Concept of Mass Civic Action</em>, 117–36.</p>
<p>Ómarsdóttir, Silja Bára, and Viktor Orri Valgarðsson. 2020. ‘Anarchy in Iceland? The Global Left, Pirates and Socialists in Post-Crash Icelandic Politics’. <em>Globalizations</em> 17 (5): 840–53. https://doi.org/10.1080/14747731.2020.1722496.</p>
<p>Önnudóttir, Eva H., Agnar Freyr Helgason, Ólafur Th Harðarson, and Hulda Thórisdóttir. 2022. <em>Electoral Politics in Crisis after the Great Recession: Change, Fluctuations and Stability in Iceland</em>. Taylor &amp; Francis.</p>
<p>Van Kessel, Stijn. 2015. <em>Populist Parties in Europe: Agents of Discontent?</em> Springer.</p>
<p>Þórsson, Elías. 2017. ‘From Iceland — Flokkur Fólksins: The Populist Uprising?’ The Reykjavik Grapevine. 15 August 2017. https://grapevine.is/mag/2017/08/15/flokkur-folksins-the-populist-uprising/.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>