<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>World Populism Dataset - Switzerland</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: yes;
      }
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">World Populism Dataset</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://shiny.nectric.com.au/wpd-app/" rel="" target="">
 <span class="menu-text">App</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes.html" rel="" target="">
 <span class="menu-text">Case notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-downloads" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-download" role="img">
</i> 
 <span class="menu-text">Downloads</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-downloads">    
        <li>
    <a class="dropdown-item" href="../#" rel="" target="">
 <span class="dropdown-text">All data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../license.html" rel="" target=""><i class="bi bi-file-certificate" role="img">
</i> 
 <span class="menu-text">License</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/World-Populism-Dataset/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Switzerland</h1>
            <p class="subtitle lead">Date range: 1980-2020</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-notes" id="toc-case-notes" class="nav-link active" data-scroll-target="#case-notes">Case notes</a>
  <ul class="collapse">
  <li><a href="#swiss-auto-party" id="toc-swiss-auto-party" class="nav-link" data-scroll-target="#swiss-auto-party">Swiss Auto Party</a></li>
  <li><a href="#swiss-peoples-party" id="toc-swiss-peoples-party" class="nav-link" data-scroll-target="#swiss-peoples-party">Swiss People’s Party</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="case-notes" class="level1">
<h1>Case notes</h1>
<section id="swiss-auto-party" class="level2">
<h2 class="anchored" data-anchor-id="swiss-auto-party">Swiss Auto Party</h2>
<p>The Swiss Auto Party (<em>Autopartei der Schweiz,</em> APS), was founded in 1985 by economic consultant and lawyer Michael Dreher to oppose environmentally conscious state interventions in the lives of citizens and the elite “do-gooders” who push them (Church 1989, 118). It soon expanded beyond its narrow focus on the interests of motorists to espouse a broad neo-liberalism and harsh opposition to immigration (Skenderovic 2007, 165). It achieved its best result in in the 1991 national elections with 5.1% of the vote. Soon after this it changed its name to the Freedom Party of Switzerland (<em>Freiheits-Partei der Schweiz</em>), but most of its supporters migrated to the SVP after that party’s move to the right in the late 1990s. It did not pass 5% after 1991.</p>
<p>Further to opposing state intervention in the ideological sense, the APS campaigned with “vehement and vocal hostility” towards established parties (Betz 1994, 21), accusing the entire “political class” of being “degenerate” and “wrecked” (cited in Skenderovic 2009, 110) (OTH_POLCLASS = 3). In Skenderovic’s words:</p>
<blockquote class="blockquote">
<p>The populist nature of the APS/FPS was clear to see in the party’s consistent strategy of evoking resentment and mistrust towards government, state administration and the party system. It was clear that the party perceived an antagonistic relationship between the political establishment and ‘the people’, whom they saw as being betrayed by government, politicians and other political parties (Skenderovic 2009, 109).</p>
</blockquote>
<p>Beyond its neo-liberal resistance to state intervention, the APS’s policy platform was its opposition to immigration (Kobach 1993, 356). The party alleged that a “flood” of refugees were seeking asylum in Switzerland for economic reasons rather than persecution, and that they constituted a drain on state resources (Betz 1994, 121) (OTH_IMMIGRANTS = 3). The nature of these attacks has been considered xenophobic by many (Husbands 2000, 507; Skenderovic 2007, 170), as they particularly targeted non-European migrants (Betz 1994, 121), who allegedly threatened to “makes us Swiss strangers in our own country” (Skenderovic 2009, 111). We’ve coded APS 3 on OTH_ETHNIC, although there may be a case to leave it at 2. We’ve seen no evidence for OTH_ECONOMIC or OTH_MILITARY (both = 1), and although the party opposed European integration, the literature does not emphasise that any OTH_FOREIGN rhetoric was a significant part of its discourse (= 1).</p>
<p>Although the party was programmatically thin (Betz 1994, 108), its neo-liberalism and strong nativism make it clearly a party of the far right (LRPOSITION = FR). Skenderovic claims that “The APS/FPS was not characterised by strong leadership, nor was the party led by an uncontested, charismatic leader” (Skenderovic 2009, 108) (CHARISMA = 1), and we’ve seen no evidence that it was a fundamental threat to liberal democratic norms in Switzerland (LIBDEMNORMS = 1). Neither Dreher nor the party had served in government before the 1991 election (INSIDER = 1).</p>
</section>
<section id="swiss-peoples-party" class="level2">
<h2 class="anchored" data-anchor-id="swiss-peoples-party">Swiss People’s Party</h2>
<p>The Swiss People’s Party (<em>Schweizerische Volkspartei</em>, SVP) traces its roots to various agrarian and conservative movements in the twentieth century. From the 1950s it and its predecessor have been included in the “magic formula” of power sharing on the Swiss federal council (McGann and Kitschelt 2005, 153). Most scholarship considers the party to be mainstream conservative and non-populist for most of this time (Mazzoleni 2013, 237; Bernhard 2017, 514). The rise of Christoph Blocher and his Zurich-based wing of the party changed this (Marcus 2000, 36). Given the traditionally decentralised nature of Swiss parties it is difficult to pinpoint the exact moment that the party should be collectively characterised by Blocher’s distinct populist rhetoric, but the best option seems to be the 1999 federal election (Rose 2000, 36), when Blocher’s emergence as its undisputed figurehead saw it’s vote increase dramatically to 22.5% from 14.9% in the previous election. The SVP has received approximately 25-30% in each subsequent election. We have therefore included the SVP from 1999 – 2019.</p>
<p>Under Blocher’s leadership, the SVP adopted “virulent” rhetoric against its rivals which converted it into a party of protest against the broader political establishment (Church 1996b, 642; 2000, 224). Further to it being incompetent, the political class was described by Blocher to be untrustworthy (Church 2000, 217–18), and to have betrayed ordinary Swiss voters (Bernhard, Kriesi, and Weber 2015, 131). This political class was therefore portrayed as being fundamentally antagonistic to the interests of the ordinary people (Mazzoleni and Skenderovic 2007, 93; Skenderovic 2009, 160). In Favero’s interpretation:</p>
<blockquote class="blockquote">
<p>In a true populist manner, he repeatedly criticised the political elites in Bern who allegedly cared more for their own benefits than for Swiss citizens. To convey these messages to his followers, Blocher regularly uses the Albisgüetli Convention to explain “what is going on behind the scenes in Bern to abolish Switzerland.” The populist juxtaposition of ‘us’ (the good citizens) versus ‘them’ (the <em>classe politique</em>, the EU) clearly increased his charismatic appeal and the persuasiveness of his message. (Favero 2022, 489)</p>
</blockquote>
<p>In contrast to these “power-loving system parties” (cited in Bernhard, Kriesi, and Weber 2015, 133), Blocher claimed that it was the true and sole representative of ordinary people’s interests (Mazzoleni and Skenderovic 2007, 93; Favero 2021, 254). As he put it: “We shall give this people a voice, while others increasingly crowd out this voice! Wherever a gap opens up between the interests of the citizens and the ‘political class’, we shall be the party of the citizen” (cited in Bernhard, Kriesi, and Weber 2015, 134) (OTH_POLCLASS = 3). Notably, Blocher managed to maintain this anti-establishment protest stance even while the SVP was a member of the governing coalition (Mazzoleni 2013, 243).</p>
<p>The SVP’s anti-immigration attitude has been one of the main programmatic elements of its success under Blocher (Antonuk 2000, 23). It accused asylum seekers of abusing the system and threating the security of citizens (Church 2000, 218; Mazzoleni 2013, 246) (OTH_IMMIGRANTS = 3). In a number of ways this opposition to immigration has included xenophobic and racist components, as the party predominantly opposed non-European immigrants (Mazzoleni and Skenderovic 2007, 94). In the most notorious instance, the SVP’s 2007 election campaign included posters of white sheep kicking black sheep out of the country under the slogan “For More Security” (Michel 2015, 410). The party has also launched a popular initiative against the construction of Islamic minarets in 2009, and included in its platform its stance against “growing Islamisation” in 2011 (Mazzoleni 2013, 249). Blocher has also been accused of trying to “harness Swiss resentment at Jewish organizations” attempting to seek reparations for Swiss Banks’ activities during the Holocaust (Marcus 2000, 36). We’ve coded the party 3 on OTH_ETHNIC.</p>
<p>Opposition to European integration was the issue that initially brought Blocher to prominence in the early 1990s (Church 1996a, 13; McGann and Kitschelt 2005, 154), and under his leadership the SVP became strongly anti-EU (Caramani 1996, 135). He presented the Swiss nation and its sovereignty as being threated from abroad, against which the SVP was the last line of defence (Mazzoleni and Skenderovic 2007, 93; Bernhard, Kriesi, and Weber 2015, 125). This included an attack against domestic <em>heimatmiide Parteien</em> (parties tired of their home country) (Caramani 1996, 132) (OTH_FOREIGN = 3). The party included no major economic component in its anti-elitism (Bernhard 2017, 514) (OTH_ECONOMIC = 1), nor any opposition to the military (OTH_MILITARY = 1).</p>
<p>Owing to its strong economic neo-liberalism (Afonso and Papadopoulos 2015, see; Church 2000, 218) and the salience of its cultural nativism the party is generally considered far-right (Antonuk 2000, 24) (LRPOSITION = FR). Blocher’s charisma is routinely cited in the literature as a critical part of the party’s image and success under his leadership (Church 1996b, 641; Popper 1999, 12; Favero 2022), and coupled with the significant personal financial resources that he brought to the party (Church 2000, 217), the SVP “was built in a decisive way around its leader” (Mazzoleni 2013, 240). However, the party has always had a strong base and numerous factions opposed to Blocher (Favero 2021), meaning it doesn’t’ quite qualify for a 3 on OTH_CHARISMA (= 2). Several scholars have emphasised that the party was not a threat to liberal democratic norms – and on the contrary that it was extremely defensive of the Swiss political system and the constitution (Church 2000, 227; McGann and Kitschelt 2005, 154). We have coded the party 2 on INSIDER for its duration in the dataset given that it had been in coalition governments since the 1950s.</p>
<p><strong>References</strong></p>
<p>Afonso, Alexandre, and Yannis Papadopoulos. 2015. ‘How the Populist Radical Right Transformed Swiss Welfare Politics: From Compromises to Polarization’. <em>Swiss Political Science Review</em> 21 (4): 617–35.</p>
<p>Antonuk, Beth E. 2000. ‘Immigration and the Political Shift to the Right in Austria and Switzerland’. <em>Perspectives on Business and Economics</em>.</p>
<p>Bernhard, Laurent. 2017. ‘Three Faces of Populism in Current Switzerland: Comparing the Populist Communication of the Swiss People’s Party, the Ticino League, and the Geneva Citizens’ Movement’. <em>Swiss Political Science Review</em> 23 (4): 509–25.</p>
<p>Bernhard, Laurent, Hanspeter Kriesi, and Edward Weber. 2015. ‘The Populist Discourse of the Swiss People’s Party’. In <em>European Populism in the Shadow of the Great Recession</em>, edited by Hanspeter Kriesi and Takis S. Pappas, 123–37. Colchester: ECPR Press.</p>
<p>Betz, Hans-Georg. 1994. <em>Radical Right-Wing Populism in Western Europe</em>. Edited by Hans-Georg Betz. London: Palgrave Macmillan UK. https://doi.org/10.1007/978-1-349-23547-6_1.</p>
<p>Caramani, Daniele. 1996. ‘The Swiss Parliamentary Election of 1995’. <em>Electoral Studies</em> 15 (1): 128–38.</p>
<p>Church, Clive H. 1989. ‘The Swiss Way of Change: Politics since the 1987 Election’. <em>The World Today</em> 45 (7): 117–21.</p>
<p>———. 1996a. ‘The Paradoxical Europeanisation of Switzerland’. <em>European Business Journal</em> 8 (2): 9–17.</p>
<p>———. 1996b. ‘The Swiss Elections of 1995: Real Victors and Real Losers at Last?’ <em>West European Politics</em> 19 (3): 641–48.</p>
<p>———. 2000. ‘The Swiss Elections of October 1999: Learning to Live in More Interesting Times’. <em>West European Politics</em> 23 (3): 215–30.</p>
<p>Favero, Adrian. 2021. ‘Rootedness, Activism, and Centralization: The Case of the Swiss People’s Party’. <em>Politics and Governance</em> 9 (4): 252–62.</p>
<p>———. 2022. ‘Charisma in Right-Wing Populism: Comparing the View of the Leader and Followers within the Swiss People’s Party’. <em>Swiss Political Science Review</em> 28 (3): 477–95.</p>
<p>Husbands, Christopher T. 2000. ‘Switzerland: Right-Wing and Xenophobic Parties, from Margin to Mainstream?’ <em>Parliamentary Affairs</em> 53 (3): 501–16.</p>
<p>Kobach, Kris W. 1993. ‘Recent Developments in Swiss Direct Democracy’. <em>Electoral Studies</em> 12 (4): 342–65.</p>
<p>Marcus, Jonathan. 2000. ‘Exorcising Europe’s Demons: A Far-Right Resurgence?’ <em>Washington Quarterly</em> 23 (4): 31–40.</p>
<p>Mazzoleni, Oscar. 2013. ‘Between Opposition and Government: The Swiss People’s Party’. In <em>Exposing the Demagogues: Right-Wing and National Populist Parties in Europe</em>, edited by Karsten Grabow and Florian Hartleb, 237–59. Brussels: Konrad Adenauer Stiftung.</p>
<p>Mazzoleni, Oscar, and Damir Skenderovic. 2007. ‘The Rise and Impact of the Swiss People’s Party: Challenging the Rules of Governance in Switzerland’. In <em>The Extreme Right Parties and Power in Europe</em>, edited by Pascal Delwit and Philippe Poirier, 85–116. Brussels: Editions de l’Université de Bruxelles.</p>
<p>McGann, Anthony J., and Herbert Kitschelt. 2005. ‘The Radical Right in the Alps: Evolution of Support for the Swiss SVP and Austrian FPÖ’. <em>Party Politics</em> 11 (2): 147–71.</p>
<p>Michel, Noémi. 2015. ‘Sheepology: The Postcolonial Politics of Raceless Racism in Switzerland’. <em>Postcolonial Studies</em> 18 (4): 410–26.</p>
<p>Popper, Nathaniel. 1999. ‘Swiss Voice’. <em>Harvard International Review</em> 21 (4): 12–13.</p>
<p>Rose, Richard. 2000. ‘The End of Consensus in Austria and Switzerland’. <em>Journal of Democracy</em> 11 (2): 26–40.</p>
<p>Skenderovic, Damir. 2007. ‘Immigration and the Radical Right in Switzerland: Ideology, Discourse and Opportunities’. <em>Patterns of Prejudice</em> 41 (2): 155–76.</p>
<p>———. 2009. <em>The Radical Right in Switzerland: Continuity and Change, 1945-2000</em>. New York: Berghahn Books.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>